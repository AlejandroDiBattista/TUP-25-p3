@inherits LayoutComponentBase
@using Cliente.Services
@inject NavigationManager NavigationManager
@inject CartService Cart

<LayoutView>
    <!-- Barra superior fija -->
    <header class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">🍬 Dulces Online</a>

            <form class="d-flex me-auto ms-3" role="search">
                <input class="form-control me-2" type="search" placeholder="Buscar..." aria-label="Buscar" disabled />
            </form>

            <button class="btn btn-outline-light position-relative" @onclick="IrAlCarrito">
                🛒
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    @Cart.GetCantidadTotal()
                </span>
            </button>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="container-fluid" style="margin-top: 80px;">
        @Body
    </main>
</LayoutView>

@code {
    private void IrAlCarrito()
    {
        NavigationManager.NavigateTo("/carrito");
    }
}
