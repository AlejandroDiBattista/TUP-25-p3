@using Microsoft.AspNetCore.Components
@using cliente.Modelos
@inject NavigationManager Navigation

<div class="card m-2" style="width: 18rem;">
    <img src="@Producto.ImagenUrl" class="card-img-top" alt="@Producto.Nombre">
    <div class="card-body">
        <h5 class="card-title">@Producto.Nombre</h5>
        <p class="card-text">@Producto.Descripcion</p>
        <p class="card-text"><strong>Precio:</strong> $@Producto.Precio</p>
        <p class="card-text"><strong>Stock:</strong> @Producto.Stock</p>
        <button class="btn btn-primary" @onclick="AgregarAlCarrito" disabled="@(Producto.Stock <= 0)">Agregar al carrito</button>
    </div>
</div>

@code {
    [Parameter]
    public Producto Producto { get; set; } = default!;

    private void AgregarAlCarrito()
    {
        // Aquí se podría llamar a un servicio para gestionar el carrito.
        // Por simplicidad, redireccionamos a la página del carrito, pasando el Id del producto.
        Navigation.NavigateTo($"/carrito?productoId={Producto.Id}");
    }
}